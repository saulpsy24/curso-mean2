<div class= "container" *ngIf="identity && identity.role=='ROLE_ADMIN' || identity.role=='ROLE_AGENTE' || identity.role=='ROLE_ENCARGADO'">
    <br>
    <div class="card2">
        <h1>{{titulo}}</h1>
    </div>
    <br>
    <div *ngIf="alertMessage">
        <div class="alert alert-info">
            {{alertMessage}}
        </div>
    </div>
    <div class="card2">
        <form #formEvento="ngForm" (ngSubmit)="onSubmit()">
            <div class="row" >
                <div class = "col-md-6">
                    <p>
                        <br>
                        <label ><img id="kDMY_0"   src="../../assets/images/titulo_evento.png" class="img-card"> Titulo:</label>
                        <input style="width: 50%;" type="text" #title="ngModel" name="title" [(ngModel)]="evento.title" required class="form-control" />
                        <span *ngIf="!title.valid && title.touched"> El Titulo es obligatorio</span>
                    </p>
                    <br>

                    <label for="brand"> <img id="kDMY_0"   src="../../assets/images/marca.png" class="img-card"> Marca:</label>


                    <select style="width: 50%;" class="form-control" id="brand" #brand="ngModel" name="brand" [(ngModel)]="evento.brand" required>

                        <option ng-selected="selected">Selecciona...</option>
                        <option value="Vichy">Vichy</option>
                        <option value="La Roche">La Roche-Posay</option>
                        <option value="Skinceuticals">Skinceuticals</option>
                        <option value="RogerGallet"> Roger Gallet</option>
                        <option value="CeraVe"> CeraVe</option>
                    </select>

                <!-- </div> -->


                <!-- <div class="col-md-2 col-xs-6">
                    <br>

                    <label for="brand">Marca:</label>


                    <select class="form-control" id="brand" #brand="ngModel" name="brand" [(ngModel)]="evento.brand" required>

                        <option ng-selected="selected">Selecciona...</option>
                        <option value="Vichy">Vichy</option>
                        <option value="La Roche">La Roche-Posay</option>
                        <option value="Skinceuticals">Skinceuticals</option>
                        <option value="RogerGallet"> Roger Gallet</option>
                    </select>

                </div> -->

                <!-- <div class="col-md-4 col-xs-6"> -->
                    <br>


                    <label for="province"> <img id="kDMY_0"   src="../../assets/images/mapa_grande.png" class="img-card"> Provincia:</label>
                    <select style="width: 50%;" class="form-control" #province="ngModel" name="province" [(ngModel)]="evento.province" required id="province">
                        <option selected="selected">Selecciona...</option>
                        <option value="Albacete">Albacete</option>
                        <option value="Alicante/Alacant">Alicante/Alacant</option>
                        <option value="Almería">Almería</option>
                        <option value="Araba/Álava"> Araba/Álava</option>
                        <option value="Asturias"> Asturias</option>
                        <option value="Ávila"> Ávila</option>
                        <option value="Badajoz"> Badajoz</option>
                        <option value="Balears, Illes"> Balears, Illes</option>
                        <option value="Barcelona"> Barcelona</option>
                        <option value="Bizkaia"> Bizkaia</option>
                        <option value="Burgos"> Burgos</option>
                        <option value="Cáceres"> Cáceres</option>
                        <option value="Cádiz"> Cádiz</option>
                        <option value="Cantabria"> Cantabria</option>
                        <option value="Castellón/Castelló"> Castellón/Castelló</option>
                        <option value="Ceuta"> Ceuta</option>
                        <option value="Ciudad Real"> Ciudad Real</option>
                        <option value="Córdoba"> Córdoba</option>
                        <option value="Coruña,A"> Coruña,A</option>
                        <option value="Cuenca"> Cuenca</option>
                        <option value="Gipuzkoa"> Gipuzkoa</option>
                        <option value="Girona"> Girona</option>
                        <option value="Granada"> Granada</option>
                        <option value="Guadalajara"> Guadalajara</option>
                        <option value="Huelva"> Huelva</option>
                        <option value="Huesca"> Huesca</option>
                        <option value="Jaén"> Jaén</option>
                        <option value="León"> León</option>
                        <option value="Lleidra"> Lleidra</option>
                        <option value="Lugo"> Lugo</option>
                        <option value="Madrid"> Madrid</option>
                        <option value="Málaga"> Málaga</option>
                        <option value="Melilla"> Melilla</option>
                        <option value="Murcia"> Murcia</option>
                        <option value="Navarra"> Navarra</option>
                        <option value="Ourense"> Ourense</option>
                        <option value="Palencia"> Palencia</option>
                        <option value="Palmas, Las"> Palmas, Las</option>
                        <option value="Pontevedra"> Pontevedra</option>
                        <option value="Rioja, La"> Rioja, La</option>
                        <option value="Salamanca"> Salamanca</option>
                        <option value="Santa Cruz de Tenerife"> Santa Cruz de Tenerife</option>
                        <option value="Segovia"> Segovia</option>
                        <option value="Sevilla"> Sevilla</option>
                        <option value="Soria"> Soria</option>
                        <option value="Tarragona"> Tarragona</option>
                        <option value="Teruel"> Teruel</option>
                        <option value="Toledo"> Toledo</option>
                        <option value="Valencia/Valéncia"> Valencia/Válencia</option>
                        <option value="Valladolid"> Valladolid</option>
                        <option value="Zamora"> Zamora</option>
                        <option value="Zaragoza"> Zaragoza</option>
                    </select>
                </div>
            
            <!-- <div class="row"> -->
                <div class = "col-md-6">
                    <p>
                        <br>
                        <label><img id="kDMY_0"   src="../../assets/images/marca.png" class="img-card"> Campaña:</label>
                        <input style="width: 50%;" type="text" #campana="ngModel" name="campana" [(ngModel)]="evento.campana" required class="form-control" />
                        <span *ngIf="!campana.valid && campana.touched"> La Campaña es obligatoria</span>
                    </p>
                    <p>
                        <label><img id="kDMY_0"   src="../../assets/images/descripcion.png" class="img-card"> Descripción:</label>
                        <textarea style="width: 90%;" class="form-control" #description="ngModel" name="description" [(ngModel)]="evento.description" rows="3"></textarea>


                        <span *ngIf="!description.valid && description.touched">La Descripción es obligatoria</span>

                    </p>
                </div>
            </div>
            <div class="row">    
                <div class="col-md-6 col-xs-6">
                    <p>
                            <br>
                            <label> <img id="kDMY_0"   src="../../assets/images/direccion.png" class="img-card"> Dirección:</label>
                            <input type="text" #direccion="ngModel" name="direccion" [(ngModel)]="evento.direccion" required class="form-control" />
                            <span *ngIf="!direccion.valid && direccion.touched"> La Dirección es obligatoria</span>
                        </p>
                    <br>
                </div>
                <div class="col-md-6" *ngIf="is_edit" >
                    <div class="espacio_image-for-edit" *ngIf="evento.image && evento.image != 'null'">
                        <img src="{{url +'get-image-event/'+ evento.image}}" />
                    </div>
                    <br>
                    <br>
                    <p>
                        <label >Sube la imagen del Evento</label>
                        <br>
                        <input type="file" placeholder="Subir imagen.." (change)="fileChangeEvent($event)" />
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <p>
                        <label ><img id="kDMY_0"   src="../../assets/images/lugar.png" class="img-card"> Lugar:</label>
                        <input  type="text" #lugar="ngModel" name="lugar" [(ngModel)]="evento.lugar" required class="form-control" />
                        <span *ngIf="!lugar.valid && lugar.touched"> El Lugar es obligatorio</span>
                    </p>
                    <p>
                        <label ><img id="kDMY_0"   src="../../assets/images/fecha.png" class="img-card"> Fecha Inicio:</label>
                        <!-- <input  type="text" #title="ngModel" name="title" [(ngModel)]="evento.title" required class="form-control" /> -->
                        <!-- <input [ngModel]="startDate | date:'yyyy-MM-dd'" (ngModelChange)="startDate = $event" type="date" name="startDate" class="form-control"/> -->
                        <input [ngModel]="evento.dateS | date:'yyyy-MM-dd'" (ngModelChange)="evento.dateS = $event" type="date" name="dateS" class="form-control"/>
                        <!-- <span *ngIf=" dateS.touched"> La fecha es obligatoria</span> -->
                    </p>
                    <label for="visible"> <img id="kDMY_0"   src="../../assets/images/visible.png" class="img-card"> Visible:</label>


                    <select   class="form-control" id="visible" #visible="ngModel" name="visible" [(ngModel)]="evento.visible" >

                        <option ng-selected="selected">Selecciona...</option>
                        <option value="visible">Visible</option>
                        <option value="oculto">Oculto</option>
                    </select>
                    <br>
                </div>
                <div class="col-md-3">
                    <p>
                        <label ><img id="kDMY_0"   src="../../assets/images/lugar.png" class="img-card"> Googlemaps:</label>
                        <input  type="text" #gmaps="ngModel" name="gmaps" [(ngModel)]="evento.gmaps" required class="form-control" />
                        <span *ngIf="!gmaps.valid && gmaps.touched"> El Lugar es obligatorio</span>
                    </p>
                    <p>
                        <label ><img id="kDMY_0"   src="../../assets/images/fecha.png" class="img-card"> Fecha Fin:</label>
                        <input [ngModel]="evento.dateE | date:'yyyy-MM-dd'"  (ngModelChange)="evento.dateE = $event" 
                            type="date" name="dateE" class="form-control"/>
                    </p>
                    <p>
                        <label ><img id="kDMY_0"   src="../../assets/images/valor.png" class="img-card"> Valor formación:</label>
                        <input  type="text" #value="ngModel" name="value" [(ngModel)]="evento.value" required class="form-control" />
                        <span *ngIf="!value.valid && value.touched"> El Valor formación es obligatorio</span>
                    </p>
                    <br>
                </div>
            <!-- </div> -->
            <!-- </div> -->
            <!-- <div class="row"> -->
                <div class="col-md-3">

                </div>
                
                <div class="col-md-2" style="text-align: right;" >
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>    
                    <button (click)="submit" class="btn btn-secondary" >
                        {{boton}} <i class="fa fa-plus-circle"></i></button>
                    <br>
                    <br>
                    <button class="btn btn-primary" [routerLink]="['/evento',1]">
                        Volver   <i class="fas fa-arrow-circle-left"></i> 
                    </button>
                </div>
            </div>
        </form>
    </div>

    <div class="col-lg-4"*ngIf="!identity && !identity.role=='ROLE_ADMIN' || !identity.role=='ROLE_AGENTE' || !identity.role=='ROLE_ENCARGADO'">
        <h1>Error</h1>
        <p>No tienes acceso a esta parte del curso</p>

    </div>
</div>